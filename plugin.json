{
    "description": "Metric collector for Zookeeper",
    "command": "python -u plugin.py",
    "icon" : "icon.png",
    "core_name": "collection1",
    "metrics" : [
        "ZK_WATCH_COUNT",
	"ZK_NUM_ALIVE_CONNECTIONS",
	"ZK_OPEN_FILE_DESCRIPTOR_COUNT",
	"ZK_SERVER_STATE",
	"ZK_PACKETS_SENT",
	"ZK_PACKETS_RECEIVED",
	"ZK_MIN_LATENCY",
	"ZK_EPHEMERALS_COUNT",
	"ZK_ZNODE_COUNT",
	"ZK_MAX_FILE_DESCRIPTOR_COUNT"
    ],

    "dashboards" : [
        {
            "name" : "Zookeeper",
            "layout" : "d-w=4&d-h=4&d-pad=5&d-bg=none&d-g-ZK_WATCH_COUNT=0-0-1-1&d-g-ZK_NUM_ALIVE_CONNECTIONS=1-0-1-1&d-g-ZK_OPEN_FILE_DESCRIPTOR_COUNT=0-1-1-1&d-g-ZK_SERVER_STATE=0-2-1-1&d-g-ZK_PACKETS_SENT=1-1-1-1&d-g-ZK_PACKETS_RECEIVED=1-2-1-1&d-g-ZK_MIN_LATENCY=2-2-1-1&d-g-ZK_EPHEMERALS_COUNT=0-3-1-1&d-g-ZK_ZNODE_COUNT=1-3-1-1&d-g-ZK_MAX_FILE_DESCRIPTOR_COUNT=2-3-1-1"
        }
    ],

    "paramSchema": [
        {
            "title": "Poll Time (ms)",
            "name": "pollInterval",
            "description": "The Poll Interval to call the command. Defaults 5 seconds",
            "type": "integer",
            "default": 5000
            "required": true
        },
        {
            "title": "Zookeeper Plugin Log File",
            "name": "log_file",
            "description": "The log file to capture logging information from the plugin",
            "type": "string",
            "required": false
        },
        {
            "title": "Zookeeper Plugin Report Log File",
            "name": "report_log_file",
            "description": "The log file to capture reporting information from the plugin",
            "type": "string",
            "required": false
        },
        {
            "title": "Zookeeper Service Host",
            "name": "service_host",
            "description": "The host used to make TCP connection to the Zookeeper stats API endpoint",
            "type": "string",
            "default": "localhost",
            "required": true
        },
        {
            "title": "Zookeeper Service Port",
            "name": "service_port",
            "description": "The port used to make TCP connection to the Zookeeper stats API endpoint",
            "type": "string",
            "default": "2185",
            "required": true
        },
        {
            "title": "Zookeeper Service Timeout",
            "name": "service_timeout",
            "description": "The timeout value for connecting to the zookeper service",
            "type": "integer",
            "default": 1,
            "required": true
        }
    ]
}
